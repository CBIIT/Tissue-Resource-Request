<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[function($rootScope, $scope, snAttachmentHandler, spUtil, spModal, $uibModal, styleUtil) {
  /* widget controller */
  var c = this;
	styleUtil.addStyle('@media (min-width: 1200px){ .container { width: 70% !important; }}')
	c.edit = false;
	c.disabled = "disabled";
	c.debug = true;
	c.form = {};
  c.info = {matierial: 'full'};
	c.pickup = {number: c.data.item.number};
	/* comment section value setting*/
	//c.form.alternative_contact = c.data.item.alternative_contact;
	//c.form.alternative_phone = c.data.item.alternative_phone;
	c.form.can_number = c.data.item.can_number;
	c.form.type = c.data.item.type;
		$('#error').hide();
	
	/* type 1 section value setting */
	if(c.form.type == 'Clinical Archives linked to protocol'){
		c.form.irb_protocol_number = c.data.item.irb_protocol; 
		c.form.patient_name = c.data.item.patient_name;
		c.form.case_block_1 = c.data.item.caseBlock1;
		c.form.case_block_2 = c.data.item.caseBlock2; 
		c.form.case_block_3 = c.data.item.caseBlock3;				
		c.form.case_block_4 = c.data.item.caseBlock4;
		c.form.case_block_5 = c.data.item.caseBlock5;
		c.form.material_being_requested = c.data.item.material_requested; 
		if(c.form.material_being_requested == 'Unstained Slides'){
			c.form.number_of_recuts = c.data.item.number_of_recuts;
			c.form.requested_thickness = c.data.item.requested_thickness;
		}else if(c.form.material_being_requested == 'Stained Slides'){
			c.form.he = c.data.item.he;
			c.form.special_stains = c.data.item.special_stains;
		}else if(c.form.material_being_requested == 'Tissue Shavings'){
			c.form.tissue_shaving_text = c.data.item.tissue_shaving_text;
		}else if(c.form.material_being_requested == 'Slide Signout From LP'){
			c.form.slide_signout_from_lp_text = c.data.item.slide_signout_from_lp_text;
		}else if(c.form.material_being_requested == 'Other Material'){
			c.form.other_material_specify = c.data.item.other_material_specify;
		}else if(c.form.material_being_requested == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'){
			c.form.ffpe_tissue_block_text = c.data.item.ffpe_tissue_block_text;
		}
		c.form.special_processing_or_handling = c.data.item.special_processing_or_handling;
		c.form.intent_to_use = c.data.item.intent_to_use;
	}
	/* end of type 1 */
	/* type 2 section value setting */
	if(c.form.type == 'Clinical Archives unlinked'){
		c.form.clinic_archives = c.data.item.clinic_archives;
		c.form.case_block_2_1 = c.data.item.case_block_2_1;
		c.form.case_block_2_2 = c.data.item.case_block_2_2;
		c.form.case_block_2_3 = c.data.item.case_block_2_3;
		c.form.case_block_2_4 = c.data.item.case_block_2_4;
		c.form.case_block_2_5 = c.data.item.case_block_2_5;
		c.form.material_being_requested_2 = c.data.item.material_being_requested_2;
		if(c.form.material_being_requested_2 == 'Unstained Slides'){
			c.form.number_of_recuts2 = c.data.item.number_of_recuts2;
			c.form.requested_thinkness2 = c.data.item.requested_thinkness2;
		}else if(c.form.material_being_requested_2 == 'Stained Slides'){
			c.form.he2= c.data.item.he2;
			c.form.special_stains2 = c.data.item.special_stains2;
		}else if(c.form.material_being_requested_2 == 'Tissue Shavings'){
			c.form.tissue_shaving_text_2 = c.data.item.tissue_shaving_text_2;
		}else if(c.form.material_being_requested_2 == 'Slide Signout from LP'){
			c.form.slide_signout_from_lp_text_2 = c.data.item.slide_signout_from_lp_text_2;
		}else if(c.form.material_being_requested_2 == 'Other Material'){
			c.form.other_material_specify_2 = c.data.item.other_material_specify_2;
		}else if(c.form.material_being_requested_2 == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'){
			c.form.ffpe_tissue_block_text_2 = c.data.item.ffpe_tissue_block_text_2;
		}
		c.form.special_processing_or_handling_2 = c.data.item.special_processing_or_handling_2;
		c.form.intent_to_use_2 = c.data.item.intent_to_use_2;
	}
	/* end of type 2 */
	//type 3 
	if(c.form.type=='Formalin - Fixed Paraffin - Embedded Biomedical Waste - Unlinked / Anonymized'){
		c.form.case_tissue_type = c.data.item.case_tissue_type;
		c.form.material_being_requested_3 = c.data.item.material_being_requested_3;
		if(c.form.material_being_requested_3 == 'Unstained Slides'){
			c.form.number_of_recuts_per_slide_3 = c.data.item.number_of_recuts_per_slide_3;
			c.form.requested_thickness_3 = c.data.item.requested_thickness_3;
		}else if(c.form.material_being_requested_3 == 'Stained Slides'){
			c.form.he3 = c.data.item.he3;
			c.form.special_stains3 = c.data.item.special_stains3;
		}else if(c.form.material_being_requested_3 == 'Tissue Shavings'){
			c.form.tissue_shaving_text_3 = c.data.item.tissue_shaving_text_3;
		}else if(c.form.material_being_requested_3 == 'Other Material'){
			c.form.other_material_specify_3 = c.data.item.other_material_specify_3;
		}else if(c.form.material_being_requested_3 == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'){
			c.form.ffpe_tissue_block_text_3 = c.data.item.ffpe_tissue_block_text_3;
		}				
		c.form.special_processing_or_handling_3 = c.data.item.special_processing_or_handling_3;
		c.form.intent_to_use_3 = c.data.item.intent_to_use_3;		
	}
	//end of type 3
	//type 4 
	if(c.form.type=='Fresh Frozen normal non-tumor'){
		c.form.case_tissue_type_4_1 = c.data.item.case_tissue_type_4_1;
		c.form.case_tissue_type_4_2 = c.data.item.case_tissue_type_4_2; 
		c.form.case_tissue_type_4_3 = c.data.item.case_tissue_type_4_3;				
		c.form.case_tissue_type_4_4 = c.data.item.case_tissue_type_4_4;
		c.form.case_tissue_type_4_5 = c.data.item.case_tissue_type_4_5;
		c.form.material_being_requested_4 = c.data.item.material_being_requested_4;
		c.form.intend_to_use_4 = c.data.item.intend_to_use_4;
	}
	//end of type 4
	//type 5 
	if(c.form.type=='Fresh Post-Mortem collection'){
		c.form.case_tissue_type_5_1 = c.data.item.case_tissue_type_5_1;
		c.form.case_tissue_type_5_2 = c.data.item.case_tissue_type_5_2; 
		c.form.case_tissue_type_5_3 = c.data.item.case_tissue_type_5_3;				
		c.form.case_tissue_type_5_4 = c.data.item.case_tissue_type_5_4;
		c.form.case_tissue_type_5_5 = c.data.item.case_tissue_type_5_5;	
		c.form.patient_name_1 = c.data.item.patient_name_1;
		c.form.patient_name_2 = c.data.item.patient_name_2;
		c.form.patient_name_3 = c.data.item.patient_name_3;
		c.form.patient_name_4 = c.data.item.patient_name_4;
		c.form.patient_name_5 = c.data.item.patient_name_5;
		c.form.material_being_requested_5 = c.data.item.material_being_requested_5;
		c.form.intend_to_use_5 = c.data.item.intend_to_use_5;
	}
	//end of type 5
	//type 6
	if(c.form.type=='FFPE & Snap Frozen tumor w/ associated clinical data â€“ WRNMMC Collaboration'){
		c.form.case_tissue_type_6_1 = c.data.item.case_tissue_type_6_1;
		c.form.case_tissue_type_6_2 = c.data.item.case_tissue_type_6_2; 
		c.form.case_tissue_type_6_3 = c.data.item.case_tissue_type_6_3;				
		c.form.case_tissue_type_6_4 = c.data.item.case_tissue_type_6_4;
		c.form.case_tissue_type_6_5 = c.data.item.case_tissue_type_6_5;			
		c.form.material_being_requested_6 = c.data.item.material_being_requested_6;
		c.form.intend_to_use_6 = c.data.item.intend_to_use_6;
	}
	//end of type 6
	//type 7 
	if(c.form.type=='Facilitated fresh tissue collection via CCR / WRNMMC Collaboration'){
		c.form.project_title = c.data.item.project_title;
		c.form.project_start_date = c.data.item.project_start_date;
		c.form.project_end_date = c.data.item.project_end_date;
		c.form.five_key_word = c.data.item.five_key_word;
		c.form.type_of_research = c.data.item.type_of_research;
		c.form.disease_or_site = c.data.item.disease_or_site;
		c.form.abstract_or_summary = c.data.item.abstract_or_summary;
		$('#datetimepicker1').datetimepicker({
			defaultDate: c.form.project_start_date,
			 format: 'L'
		});
		$('#datetimepicker2').datetimepicker({
			defaultDate: c.form.project_end_date,
			 format: 'L'
		});
		$("#datetimepicker1").on("dp.change", function(e){
			var date = dateToMDY(new Date(e.date));
			c.form.project_start_date = date;
		});
		$("#datetimepicker2").on("dp.change", function(e){
			var date = dateToMDY(new Date(e.date));
			c.form.project_end_date = date;
		});
	}
	//end of type 7
	function dateToMDY(date) {
		var d = date.getDate();
		var m = date.getMonth() + 1; //Month from 0 to 11
		var y = date.getFullYear();
		//return '' + y + '-' + (m<=9 ? '0' + m : m) + '-' + (d <= 9 ? '0' + d : d);
		return '' + (m<=9 ? '0' + m : m) + "/" + (d <= 9 ? '0' + d : d) + "/" + y;
	}
  c.moreInfo = function(){
		if(c.form.comment == null || c.form.comment.trim().length < 1){
				spModal.alert("<br/><center><span><font color='red'>Please provide a comment if more information are needed.</font></span></center>");
		}else{
			spModal.open({
				title: "Warning",
				message: "<center><i class='fa fa-warning' aria-hidden='true'></i>  <b>Are you sure you want to send this request back to requestor?</b></center>"
			}).then(function(confirmed) {
				moreInformationRequest('moreInfo');
			})
		}		
	}
	c.editMode = function(){
		c.edit = true;
		c.old_form = {};
		for(var key in c.form){
			c.old_form[key] = c.form[key];
		}
	}
	c.saveRecord = function(){
		$scope.server.get({
			action: 'update',
			record: c.form,
			sys_id: c.data.sys_id,
			comments: ''
		}).then(function(){
			c.edit = false;
			$scope.server.update();
		});
	}
	c.resubmit = function(){
		spModal.open({
			title: "Warning",
			message: "<center><i class='fa fa-warning' aria-hidden='true'></i>  <b>Are you sure you want to submit this request?</b></center>"
		}).then(function(confirmed) {
			resubmitRequest();
		})	
	}
	c.backToHome = function(){
		top.window.location = "/ncisp?id=manage_tissue_request_cat_item";
	}
	c.cancel = function(){
		c.edit = false;
		c.form = c.old_form;
	}
	c.complete = function(){
		if(validate()){
			$('#error').show();
		}else{
			completeRequest();
		}
	}
	c.notify = function(){
		openModal();
	}
	c.send = function(){
		$scope.server.get({
			action: 'notification',
			data: JSON.stringify(c.info),
			sys_id: c.data.sys_id
		}).then(function(){
			spModal.alert("<br/><center><span><font color='green'>The Notification has been sent to requestor successfully.</font></span></center>");
		});
		c.close();
	}
	c.close = function(){
		c.info.description = null;
		c.info.matierial = 'full';
		c.modal.close();
	}

	c.approve = function(){
		if(c.data.isAdmin && (c.form.assigned_to == null || !c.form.assigned_to)){
			spModal.alert("<br/><center><span><font color='red'>Please select a staff member to assign to</font></span></center>");
		}else{
			spModal.open({
				title: "Warning",
				message: "<center><i class='fa fa-warning' aria-hidden='true'></i>  <b>Are you sure you want to approve this request?</b></center>"
			}).then(function(confirmed) {
				processRequest('approved');
			})	
		}

	}
	c.reject = function(){
		if(c.form.comment == null || c.form.comment.trim().length < 1){
				spModal.alert("<br/><center><span><font color='red'>Please supply a comment when rejecting a request</font></span></center>");
		}else{
			spModal.open({
				title: "Warning",
				message: "<center><i class='fa fa-warning' aria-hidden='true'></i>  <b>Are you sure you want to reject this request?</b></center>"
			}).then(function(confirmed) {
				processRequest('rejected');
			})
		}
	}        
	function resubmitRequest(){
			$scope.server.get({
			action: 'submit',
			record: c.form,
			sys_id: c.data.sys_id,
			comments: c.form.comment
		}).then(function(){
			top.window.location = "/ncisp?id=manage_tissue_request_cat_item";
		});
	}
	function completeRequest(){
		$('#pickup-complete-modal').css('z-index', '1040');
		spModal.open({
			title: "Warning",
			message: "<center><i class='fa fa-warning' aria-hidden='true'></i>  <b>Are you sure you want to complete Pick Up ?</b></center>"
		}).then(function(confirmed) {
			var fields = c.g_form.getFieldNames();
			var record = {};
			fields.forEach(function(field) {
				var f = c.g_form.getField(field);
				record[field] = c.g_form.getValue(field);
			});
			record.tissue_request_id = c.data.sys_id;
			$scope.server.get({
				action: 'complete',
				status: 'Completed',
				sys_id: c.data.sys_id,
				data: record
			}).then(function(){
				c.g_form.$private.userState.clearModifiedFields();
				top.window.location = "/ncisp?id=manage_tissue_request_cat_item";
			});
		},function(){
			$('#pickup-complete-modal').css('z-index', '1050')
		});
	}
	function moreInformationRequest(action){
		$scope.server.get({
			action: 'moreInfo',
			sys_id: c.data.sys_id,
			comments: c.form.comment
		}).then(function(){
			top.window.location = "/ncisp?id=manage_tissue_request_cat_item";
		});
	}
	function processRequest(action){
		$scope.server.get({
			action: 'process',
			status: action,
			assigned_to: c.form.assigned_to,
			sys_id: c.data.sys_id,
			comments: c.form.comment
		}).then(function(){
			top.window.location = "/ncisp?id=manage_tissue_request_cat_item";
		});
	}
	
	c.uploadAttachment = function(inputId){
		var files = document.getElementById(inputId).files;
		console.log(files.length);
		if (!files || !files.length) return;
		var file = files[0];
		var tableName = 'x_naci_tissue_requ_tissue_resource_request';
		var uploadParams = {
			// sysparm_fieldname: scope.fieldName
		};
		snAttachmentHandler.create(tableName, c.data.sys_id).uploadAttachment(file, uploadParams).then(function(response) {
			spModal.alert("<br/><center><span><font color='green'>File has been uploaded successfully!</font></span></center>");
		});				
	}
	
	c.deleteAttachment = function(attachmentId) {
		spModal.open({
			title: "Warning",
			message: "<center><i class='fa fa-warning' aria-hidden='true'></i>  <b>Are you sure you want to remove this file?</b></center>"
		}).then(function(confirmed) {
			snAttachmentHandler.deleteAttachment(attachmentId).then(function() {
			});
		})
	}
	
	function openModal() {
		c.modal = $uibModal.open({
			template: $('#notification-modal').prop('innerHTML'),
			scope: $scope,
			windowClass: '',
			size: 'lg',
			backdrop: 'static',
			controller: function($scope) {
				this.c = c;
			}
		});
	}

	function openPickupModal() {
		$('#pickup-complete-modal').modal('show');
		spUtil.get('widget-form', {
			"sys_id": "-1",
			"table": "x_naci_tissue_requ_tissue_pickup_information",
			"view": "Form1"
		}).then(function(widget) {
			c.data.widget_add = widget;
			widget.data.hideRelatedLists = true;
		});
		$rootScope.$on('spModel.fields.rendered', function(e) {
			$('#pickup-complete-modal .panel-heading').hide();
			$('#pickup-complete-modal .panel-footer').hide();
			setTimeout(function() {
				$('#tissue_request_id').html("<lable><b>TRC Number</b></lable>          " + c.data.item.number);
				c.g_form = e.targetScope.getGlideForm();
				if($('#pickup-complete-modal legend')[0])
					$('#pickup-complete-modal legend')[0].remove();
			}, 0);
		});
	}
	
	c.readyComplete = function() {
		$('#error').hide();
		openPickupModal();
	}
	
	c.close_pickup = function(){
		$('#pickup-complete-modal').modal('hide');
	}

	c.partialPickup = function(){
		if(validate()){
			$('#error').show();
		}else{
			$('#pickup-complete-modal').css('z-index', '1040')
			spModal.open({
				title: "Warning",
				message: "<center><i class='fa fa-warning' aria-hidden='true'></i>  <b>Are you sure you want to complete partial Pick Up ?</b></center>"
			}).then(function(confirmed) {
				storePickupInfo();
			},function(){
				$('#pickup-complete-modal').css('z-index', '1050')
			});
		}
	}
	
	function validate(){
		if(c.g_form.getValue('retrieved_by') == null || c.g_form.getValue('retrieved_by').length == 0){
			return true;
		}else{
			return false;
		}
	}
	
	function storePickupInfo(){
		var fields = c.g_form.getFieldNames();
		var record = {};
		fields.forEach(function(field) {
			var f = c.g_form.getField(field);
			record[field] = c.g_form.getValue(field);
		});
		record.tissue_request_id = c.data.sys_id;

		$scope.server.get({
			action: 'partialPickup',
			sys_id: c.data.sys_id,
			data: record 
		}).then(function(){
			c.close_pickup();
		});		
	}
  
	c.displayPickupInfo = function(id){
		$('#pickup-info').modal('show');
		spUtil.get('widget-form', {
			"sys_id": id,
			"table": "x_naci_tissue_requ_tissue_pickup_information",
			"view": "Form1"
		}).then(function(widget) {
			c.data.widget_pickup = widget;
			widget.data.hideRelatedLists = true;
		});
		$rootScope.$on('spModel.fields.rendered', function(e) {
			$('#pickup-info .panel-heading').hide();
			$('#pickup-info .panel-footer').hide();
			setTimeout(function() {
				c.g_form = e.targetScope.getGlideForm();
				if($('#pickup-info legend')[0]){
					$('#pickup-info legend')[0].remove();
				}
				var fields = c.g_form.getFieldNames();
				fields.forEach(function(field){
					c.g_form.setReadOnly(field, true);
				});
			}, 0);
		});
	}
	
	c.close_pickup_info = function(){
		var fields = c.g_form.getFieldNames();
		fields.forEach(function(field){
			c.g_form.setValue(field, '');
		});
		$('#pickup-info').modal('hide');
	}
	
	spUtil.recordWatch($scope, "sys_attachment", "", function(name, data) {  
			spUtil.update($scope);
	});
	spUtil.recordWatch($scope, "x_naci_tissue_requ_tissue_request_comment", "", function(name, data) {  
			spUtil.update($scope);
	});
	spUtil.recordWatch($scope, "x_naci_tissue_requ_tissue_resource_request", "", function(name, data) {  
			spUtil.update($scope);
	});
	//for export data
	var imgData = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAeAB4AAD/4RESRXhpZgAATU0AKgAAAAgABAE7AAIAAAAYAAAISodpAAQAAAABAAAIYpydAAEAAAAwAAAQ2uocAAcAAAgMAAAAPgAAAAAc6gAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFpob3UsIEppbSAoTklIL05DSSkgW0NdAAAFkAMAAgAAABQAABCwkAQAAgAAABQAABDEkpEAAgAAAAM3OQAAkpIAAgAAAAM3OQAA6hwABwAACAwAAAikAAAAABzqAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAxNjowNDoxMyAxNDozNjo1NQAyMDE2OjA0OjEzIDE0OjM2OjU1AAAAWgBoAG8AdQAsACAASgBpAG0AIAAoAE4ASQBIAC8ATgBDAEkAKQAgAFsAQwBdAAAA/+ELKmh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4NCjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iPjxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+PHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9InV1aWQ6ZmFmNWJkZDUtYmEzZC0xMWRhLWFkMzEtZDMzZDc1MTgyZjFiIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iLz48cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0idXVpZDpmYWY1YmRkNS1iYTNkLTExZGEtYWQzMS1kMzNkNzUxODJmMWIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+PHhtcDpDcmVhdGVEYXRlPjIwMTYtMDQtMTNUMTQ6MzY6NTUuNzkyPC94bXA6Q3JlYXRlRGF0ZT48L3JkZjpEZXNjcmlwdGlvbj48cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0idXVpZDpmYWY1YmRkNS1iYTNkLTExZGEtYWQzMS1kMzNkNzUxODJmMWIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+PGRjOmNyZWF0b3I+PHJkZjpTZXEgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj48cmRmOmxpPlpob3UsIEppbSAoTklIL05DSSkgW0NdPC9yZGY6bGk+PC9yZGY6U2VxPg0KCQkJPC9kYzpjcmVhdG9yPjwvcmRmOkRlc2NyaXB0aW9uPjwvcmRmOlJERj48L3g6eG1wbWV0YT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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';  
	var checkedCheckbox = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAJHRFWHRUaXRsZQBCQUxMT1QgQk9YIFdJVEggQ0hFQ0sgKFUrMjYxMSnfgWR2AAAAFXRFWHRBdXRob3IAQW5kcmV3IE1hcmN1c2XnNzeDAAAAL3RFWHRTb2Z0d2FyZQBpbmZvLmZpbGVmb3JtYXQuZGF0YS5Vbmljb2RlUG5nU2VydmxldGgBfzAAAABCdEVYdERlc2NyaXB0aW9uAGh0dHA6Ly93d3cuZmlsZWZvcm1hdC5pbmZvL2luZm8vdW5pY29kZS8yNjExL2luZGV4Lmh0bfedXVkAAAA7dEVYdENvcHlyaWdodABodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1uYy1zYS8yLjAvbIiSgwAAAkBJREFUeNrtm0ErRFEYhk+WkrKQZKEkSbKRLGShJEnSbCzmL1hJWUiTbC1s/QApWUiykWRhoWQpKQtZSGoWmiZNU3ynuUq374xRd445d56n3o256b49zb3nO/eOMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQNJ+BBSEIQQhCGrwsQjjH5i3bIpmRbEoOJQ+SouQeIf7pjgTE7xOvkhGE+KXTIeNFMsgly2/ZNsmNQ8YA9xD/ZU8VGXnJMDd1/2W3FRkfkklWWf7LLjmGvSzLXv9l+yXvioxt5hD/Ze2sca3IuGAw/J+yOces0YUQ/2XtyqmsCJlj6+R/yt4qMnYD2k1IlZAVRcazpB0h/sv2SgqKkPlAhtfUCTlSZBwEtJuQKiGzigz7belBiP+ydua4U4SsBbKbkDohy4qMx0gUQjyXbY0GvriQxQCG11QK2VBkXAWym5A6IR1G3zwcRUhyZSckl6byvMI+4Ruv8n+2FBnHgewmBCHEXvfje1AlSeYP345hhCRX9s3oD5OspKnYsbkEh0CEOMqeGffrnHYl1fljZZVXjhlCSLJl+xyXoe/sR8etKp+dBLK9E9xNfc5Uf/F5WvKk/H0MIfUru1lFSLFOcwdCfil7YWr/uUAGIfUv2+W4cWsPnwxC/JTN1iBkHSF+y55XkVEytb9FgpCEytqlcMEhZKdBzrGphFgWTOUt9XIUO6vsmcob7QhpkrII4Rwboyw/i0YIQhACAAAAAAAAAAAAAAAAAAAAAADNxBddFt8OztlpSgAAAABJRU5ErkJggg==';
	var uncheckedCheckbox = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAABAAAAAQBPJcTWAAAAGXRFWHRUaXRsZQBCQUxMT1QgQk9YIChVKzI2MTApNkfsXAAAABV0RVh0QXV0aG9yAEFuZHJldyBNYXJjdXNl5zc3gwAAAC90RVh0U29mdHdhcmUAaW5mby5maWxlZm9ybWF0LmRhdGEuVW5pY29kZVBuZ1NlcnZsZXRoAX8wAAAAQnRFWHREZXNjcmlwdGlvbgBodHRwOi8vd3d3LmZpbGVmb3JtYXQuaW5mby9pbmZvL3VuaWNvZGUvMjYxMC9pbmRleC5odG02E4KZAAAAO3RFWHRDb3B5cmlnaHQAaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktbmMtc2EvMi4wL2yIkoMAAACPSURBVHja7dvBDQAwCAOx7L80jAEIW+qf6N5NAAAAAAAAAAAAAAAAgNPq2BNEEEEEWT5WEDcaK4ggxgoiiCCCCCKIGwURxI3GCiKIsYIIIoggggjiRkEEcaOxgghirCCCCCKIIIK4URBB3GisIIIYK4gggggiiCBuFEQQN86N9S1aEEEEAQAAAAAAAAAAPmlptOokRKebCgAAAABJRU5ErkJggg==';
	c.exportDoc = function(){
		var doc = new jsPDF('p','pt','letter');	
		//page 1
		doc.addImage(imgData, 'jpeg', 40, 20, 450, 45);
		doc.setFontSize(12);
		doc.fromHTML("<span><b>Tissue Resource Request Item Number</b></span>", 40, 70, {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.number, 300, 70, {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Principal Investigator</b>", 40, 100,  {width:550, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.piName, 40, 120,  {width:550, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Insititution</b>", 40, 140,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Branch</b>", 300, 140,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.institution, 40, 160,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.branch, 300, 160,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Building</b>", 40, 180,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Room</b>", 300, 180,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.building, 40, 200,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.room, 300, 200,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Phone</b>", 40, 220,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Email</b>", 300, 220,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.phone, 40, 240,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.email, 300, 240,  {width:255, 'elementHandlers': specialElementHandlers});		
		doc.fromHTML("<b>Alternate Contact</b>", 40, 270,  {width:550, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.alternative_contact, 40, 290,  {width:550, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Insititution</b>", 40, 310,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Branch</b>", 300, 310,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.institution1, 40, 330,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.branch1, 300, 330,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Building</b>", 40, 350,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Room</b>", 300, 350,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.building1, 40, 370,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.room1, 300, 370,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Phone</b>", 40, 390,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML("<b>Email</b>", 300, 390,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.phone1, 40, 410,  {width:255, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.data.item.email1, 300, 410,  {width:255, 'elementHandlers': specialElementHandlers});			
		doc.fromHTML("<b>CAN Number</b>", 40, 430,  {width:550, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.form.can_number, 40, 450,  {width:550, 'elementHandlers': specialElementHandlers});		
		doc.fromHTML("<b>Type</b>", 40, 470,  {width:550, 'elementHandlers': specialElementHandlers});
		doc.fromHTML(c.form.type, 40, 490,  {width:550, 'elementHandlers': specialElementHandlers});		
		//handle type 1
		var gap = 0;
		console.log("====", c.form.type);
		if(c.form.type == 'Clinical Archives linked to protocol'){
			doc.fromHTML("<b>Provide IRB Protocol #</b>", 40, 510,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Patient Name</b>", 300, 510,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.irb_protocol_number, 40, 530,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.patient_name, 300, 530,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Surgical Pathology or Cytology Case #(s)</b>", 40, 550,  {width:550, 'elementHandlers': specialElementHandlers});
			var tmp = doc.splitTextToSize("If requesting material from a case with multiple blocks, the requester must specify which block is being requested (e.g. SI-xx-1234, block 1A) Note: if needed, schedule a meeting with the LP Hotseat Resident or collaborating pathologist to select the most appropriate block(s).", 540);
			doc.text(tmp, 45, 590,  {width:570, 'elementHandlers': specialElementHandlers});		
			doc.fromHTML("<b>Case #, Block #(s)</b>", 40, 620,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case #, Block #(s)</b>", 300, 620,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_1, 40, 640,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_2, 300, 640,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case #, Block #(s)</b>", 40, 660,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case #, Block #(s)</b>", 300, 660,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_3, 40, 680,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_4, 300, 680,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case #, Block #(s)</b>", 40, 700,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_4, 40, 720,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.addPage();
			doc.fromHTML("<b>Material Being Requested</b>", 40, 40,  {width:550, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.material_being_requested, 40, 60,  {width:550, 'elementHandlers': specialElementHandlers});
			gap = 130;
			if(c.form.material_being_requested == 'Unstained Slides'){
				doc.fromHTML("<b>Number of recuts per slide</b>", 40, 80,  {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("<b>Requested thickness</b>", 300, 80,  {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.number_of_recuts, 40, 100,  {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.requested_thickness, 300, 100,  {width:255, 'elementHandlers': specialElementHandlers});
			}else if(c.form.material_being_requested == 'Stained Slides'){
				if(c.form.he == true){
					doc.addImage(checkedCheckbox, 'png', 40, 82, 20, 20)
				}else{
					doc.addImage(uncheckedCheckbox, 'png', 40, 82, 20, 20)
				}
				doc.fromHTML(" H&E", 50, 80,  {width:550, 'elementHandlers': specialElementHandlers});	
				if(c.form.special_stains == true){
						doc.addImage(checkedCheckbox, 'png', 40, 102, 20, 20)
				}else{
					doc.addImage(uncheckedCheckbox, 'png', 40, 102, 20, 20)
				}
				doc.fromHTML("If Special stains or IHC, must be via collaboration with an LP Pathlogist", 50, 100,  {width:550, 'elementHandlers': specialElementHandlers});
			}else if(c.form.material_being_requested == 'Tissue Shavings'){
				doc.fromHTML("<b>Specify</b>", 40, 80,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.tissue_shaving_text, 40, 100,  {width:550, 'elementHandlers': specialElementHandlers});
			}else if(c.form.material_being_requested == 'Slide Signout From LP'){
				doc.fromHTML("<b>Specify</b>", 40, 80,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.slide_signout_from_lp_text, 40, 100,  {width:550, 'elementHandlers': specialElementHandlers});				
			}else if(c.form.material_being_requested == 'Other Material'){
				doc.fromHTML("<b>Specify</b>", 40, 80,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.other_material_specify, 40, 100,  {width:550, 'elementHandlers': specialElementHandlers});				
			}else if(c.form.material_being_requested == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'){
				tmp = doc.splitTextToSize('LP does not typically release tissue blocks from the clinical archived biomaterial. On a rare occasion, the LP Medical Director can authorize the temporary release of a clinical tissue block for additional non-LP clinical testing.', 540);
				doc.text(tmp, 45, 100,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("<b>Specify</b>", 40, 130,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.ffpe_tissue_block_text, 40, 150,  {width:550, 'elementHandlers': specialElementHandlers});				
				gap = 170;
			}
			doc.fromHTML("<b>Specify any special processing or handling request (e.g. charged, RNAse free, etc)</b>", 40, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			tmp = doc.splitTextToSize(c.form.special_processing_or_handling, 540);
			var high = tmp.length;
			gap = gap + 40;
			doc.text(tmp, 45, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			gap = gap + (high*10) + 10;	
			doc.fromHTML("<b>Intended use</b>", 40, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			tmp = doc.splitTextToSize(c.form.intent_to_use, 540);
			gap = gap + 40;
			doc.text(tmp, 45, gap,  {width:550, 'elementHandlers': specialElementHandlers});			
		}else if(c.form.type == 'Clinical Archives unlinked'){ //type 2
			doc.fromHTML("<b>Clinical Archives unlinked or Autopsy</b>", 40, 510,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.clinic_archives, 40, 530,  {width:550, 'elementHandlers': specialElementHandlers});
			gap = 550;
			if(c.form.clinic_archives == 'Clinical Archives'){
				doc.fromHTML("<b>Clinic Archives Note</b>", 40, 550,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("* Can be email or formal form from IRB for exemption", 50, 570,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("* All slides and/or containers will be deidentified for unlinked clinical archived material.", 50, 580,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("* There will be no link available", 50, 590, {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("<b>Provide IRB Exception</b>", 40, 610, {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("Please see Attachment File", 300, 610, {width:255, 'elementHandlers': specialElementHandlers});
				gap = 630;
			}else if(c.form.clinic_archives == 'Clinical laboratory validation material does not require IRB approval'){
				doc.fromHTML("<b>Laboratory Validation Note</b>", 40, 550, {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("Clinical validation material (must provide clinical test being validated in intended use)", 40, 570, {width:550, 'elementHandlers': specialElementHandlers});
				gap = 590;
			}
			doc.fromHTML("<b>Case #, Block #(s)</b>", 40, gap,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case #, Block #(s)</b>", 300, gap,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_2_1, 40, gap+20,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_2_2, 300, gap+20,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case #, Block #(s)</b>", 40, gap+40,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case #, Block #(s)</b>", 300, gap+40,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_2_3, 40, gap+60,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_2_4, 300, gap+60,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case #, Block #(s)</b>", 40, gap+80,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_block_2_5, 40, gap+100,  {width:255, 'elementHandlers': specialElementHandlers});
			//add a new page
			doc.addPage();
			doc.fromHTML("<b>Material Being Requested</b>", 40, 40,  {width:550, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.material_being_requested_2, 40, 60,  {width:550, 'elementHandlers': specialElementHandlers});
			var tmp1 = '';
			gap = 130;
			if(c.form.material_being_requested_2 == 'Unstained Slides'){
				doc.fromHTML("<b>Number of recuts per slide</b>", 40, 80,  {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("<b>Requested thickness</b>", 300, 80,  {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.number_of_recuts2, 40, 100,  {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.requested_thinkness2, 300, 100,  {width:255, 'elementHandlers': specialElementHandlers});
			}else if(c.form.material_being_requested_2 == 'Stained Slides'){
				if(c.form.he2 == true){
					doc.addImage(checkedCheckbox, 'png', 40, 82, 20, 20)
				}else{
					doc.addImage(uncheckedCheckbox, 'png', 40, 82, 20, 20)
				}
				doc.fromHTML(" H&E", 50, 80,  {width:550, 'elementHandlers': specialElementHandlers});	
				if(c.form.special_stains2 == true){
						doc.addImage(checkedCheckbox, 'png', 40, 102, 20, 20)
				}else{
					doc.addImage(uncheckedCheckbox, 'png', 40, 102, 20, 20)
				}
				doc.fromHTML("If Special stains or IHC, must be via collaboration with an LP Pathlogist", 50, 100,  {width:550, 'elementHandlers': specialElementHandlers});
			}else if(c.form.material_being_requested_2 == 'Tissue Shavings'){
				doc.fromHTML("<b>Specify</b>", 40, 80,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.tissue_shaving_text_2, 40, 100,  {width:550, 'elementHandlers': specialElementHandlers});
			}else if(c.form.material_being_requested_2 == 'Slide Signout From LP'){
				doc.fromHTML("<b>Specify</b>", 40, 80,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.slide_signout_from_lp_text_2, 40, 100,  {width:550, 'elementHandlers': specialElementHandlers});				
			}else if(c.form.material_being_requested_2 == 'Other Material'){
				doc.fromHTML("<b>Specify</b>", 40, 80,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.other_material_specify_2, 40, 100,  {width:550, 'elementHandlers': specialElementHandlers});				
			}else if(c.form.material_being_requested_2 == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'){
				tmp1 = doc.splitTextToSize('LP does not typically release tissue blocks from the clinical archived biomaterial. On a rare occasion, the LP Medical Director can authorize the temporary release of a clinical tissue block for additional non-LP clinical testing.', 540);
				doc.text(tmp1, 45, 100,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("<b>Specify</b>", 40, 130,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.ffpe_tissue_block_text_2, 40, 150,  {width:550, 'elementHandlers': specialElementHandlers});				
				gap = 170;
			}
			doc.fromHTML("<b>Specify any special processing or handling request (e.g. charged, RNAse free, etc)</b>", 40, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			tmp1 = doc.splitTextToSize(c.form.special_processing_or_handling_2, 540);
			var high1 = tmp1.length;
			gap = gap + 40;
			doc.text(tmp1, 45, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			gap = gap + (high1*10) + 10;	
			doc.fromHTML("<b>Intended use</b>", 40, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			tmp1 = doc.splitTextToSize(c.form.intent_to_use_2, 540);
			gap = gap + 40;
			doc.text(tmp1, 45, gap,  {width:550, 'elementHandlers': specialElementHandlers});
		}else if(c.form.type == 'Formalin - Fixed Paraffin - Embedded Biomedical Waste - Unlinked / Anonymized'){ //type 3
			doc.fromHTML("<b>Note</b>", 40, 510,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("* All slides and/or containers will be deidentified for unlinked clinical archived material.", 50, 530,  {width:550, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("* There will be no link available or kept on file in LP.", 50, 550,  {width:550, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("* Complete one request per tissue type.", 50, 570, {width:550, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case / Tissue Type Being Requested</b>", 40, 590, {width:550, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_tissue_type, 40, 610, {width:550, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Material Being Requested</b>", 40, 630, {width:550, 'elementHandlers': specialElementHandlers}); 
			doc.fromHTML(c.form.material_being_requested_3, 40, 650, {width:550, 'elementHandlers': specialElementHandlers}); 
			var tmp2 = '';
			if(c.form.material_being_requested_3 == 'Unstained Slides'){
				doc.fromHTML("<b>Number of recuts per slide</b>", 40, 670,  {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML("<b>Requested thickness</b>", 300, 670,  {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.number_of_recuts_per_slide_3, 40, 690,  {width:255, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.requested_thickness_3, 300, 690,  {width:255, 'elementHandlers': specialElementHandlers});
			}else if(c.form.material_being_requested_3 == 'Stained Slides'){
				if(c.form.he3 == true){
					doc.addImage(checkedCheckbox, 'png', 40, 672, 20, 20)
				}else{
					doc.addImage(uncheckedCheckbox, 'png', 40, 672, 20, 20)
				}
				doc.fromHTML(" H&E", 50, 670,  {width:550, 'elementHandlers': specialElementHandlers});	
				if(c.form.special_stains3 == true){
						doc.addImage(checkedCheckbox, 'png', 40, 692, 20, 20)
				}else{
					doc.addImage(uncheckedCheckbox, 'png', 40, 692, 20, 20)
				}
				doc.fromHTML("If Special stains or IHC, must be via collaboration with an LP Pathlogist", 50, 690,  {width:550, 'elementHandlers': specialElementHandlers});
			}else if(c.form.material_being_requested_3 == 'Tissue Shavings'){
				doc.fromHTML("<b>Specify</b>", 40, 670,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.tissue_shaving_text_3, 40, 690,  {width:550, 'elementHandlers': specialElementHandlers});
			}else if(c.form.material_being_requested_3 == 'Slide Signout From LP'){
				doc.fromHTML("<b>Specify</b>", 40, 670,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.slide_signout_from_lp_text_3, 40, 690,  {width:550, 'elementHandlers': specialElementHandlers});				
			}else if(c.form.material_being_requested_3 == 'Other Material'){
				doc.fromHTML("<b>Specify</b>", 40, 670,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.other_material_specify_3, 40, 690,  {width:550, 'elementHandlers': specialElementHandlers});				
			}else if(c.form.material_being_requested_3 == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'){
				doc.fromHTML("<b>Specify</b>", 40, 670,  {width:550, 'elementHandlers': specialElementHandlers});
				doc.fromHTML(c.form.ffpe_tissue_block_text_3, 40, 690,  {width:550, 'elementHandlers': specialElementHandlers});				
			}
			doc.addPage();
			gap = 40;
			doc.fromHTML("<b>Specify any special processing or handling request (e.g. charged, RNAse free, etc)</b>", 40, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			tmp2 = doc.splitTextToSize(c.form.special_processing_or_handling_3, 540);
			var high2 = tmp2.length;
			gap = gap + 40;
			doc.text(tmp2, 45, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			gap = gap + (high2*10) + 10;	
			doc.fromHTML("<b>Intended use</b>", 40, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			tmp2 = doc.splitTextToSize(c.form.intent_to_use_3, 540);
			gap = gap + 40;
			doc.text(tmp2, 45, gap,  {width:550, 'elementHandlers': specialElementHandlers});			
		}else if(c.form.type == 'Fresh Frozen normal non-tumor'){ //type 4
			doc.fromHTML("<b>Case / tissue type being requested</b>", 40, 510,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case / tissue type being requested</b>", 300, 510,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_tissue_type_4_1, 40, 530,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_tissue_type_4_2, 300, 530,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case / tissue type being requested</b>", 40, 550,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case / tissue type being requested</b>", 300, 550,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_tissue_type_4_3, 40, 570,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_tissue_type_4_4, 300, 570,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Case / tissue type being requested</b>", 40, 590,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.case_tissue_type_4_5, 40, 610,  {width:255, 'elementHandlers': specialElementHandlers});
			doc.fromHTML("<b>Material Being Requested</b>", 40, 630,  {width:550, 'elementHandlers': specialElementHandlers});
			doc.fromHTML(c.form.material_being_requested_4, 40, 650,  {width:550, 'elementHandlers': specialElementHandlers});
			doc.addPage();
			gap = 40;
			doc.fromHTML("<b>Intended use</b>", 40, gap,  {width:550, 'elementHandlers': specialElementHandlers});
			var tmp3 = '';
			tmp3 = doc.splitTextToSize(c.form.intend_to_use_4, 540);
			var high3 = tmp3.length;
			gap = gap + high3 * 10;
			doc.text(tmp3, 45, gap,  {width:550, 'elementHandlers': specialElementHandlers});			
		}else if(c.form.type == 'Fresh Post-Mortem collection'){ //type 5
			//doc.fromHTML("<b>Case / tissue type being requested</b>", 40, 510,  {width:255, 'elementHandlers': specialElementHandlers});
			
		}else if(c.form.type == 'FFPE & Snap Frozen tumor w/ associated clinical data â€“ WRNMMC Collaboration'){ //type 6
		
		}else if(c.form.type == 'Facilitated fresh tissue collection via CCR / WRNMMC Collaboration'){ //type 7
		
		}
		doc.save(c.data.item.number + '.pdf');
	}
	
	var specialElementHandlers = {
		'#editor': function(element, renderer){
			return true;
		}
	};
}]]></client_script>
        <controller_as>c</controller_as>
        <css>.label-bold {
  font-weight: bold;
  margin-top:20px;
  display: block;
}

.bg-white {
  background-color: white;
}

.p-5 {
  padding: 2.5rem;
}


.mr-5 {
  margin-right: 2.5rem;
}

.mb-3 {
  margin-bottom: 1.5rem;
}

.mt-20 {
 	margin-top: 20px; 
}
.mb-2 {
  margin-bottom: 1rem;
}

.br-4 {
  border-radius: 4px;
}

.shadow {
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}

.bg-light-gray {
  background-color: #dadfe1;
}

.title-bold {
  font-weight: bold;
}

.action-buttons .btn.btn-primary {
  margin-left: 10px;
  min-width: 100px;
}

.d-none {
  display: none;
}
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id>approve_tissue_request</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Approve Tissue Request</name>
        <option_schema/>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
	/* populate the 'data' object */
	/* e.g., data.table = $sp.getValue('table'); */
	var str = gs.action.getGlideURI();
	var sys_id = str.get('sys_id');
	var approver = str.get('approver');
	data.item = {};
	data.sys_id = sys_id;
	data.comment = [];
	data.isAdmin = gs.getUser().isMemberOf('Tissue Resource Request LP Committee');
	data.localStaff = gs.getUser().isMemberOf('Tissue Resource Request Local Staff');

	var approverName = gs.getUserDisplayName().toString();
	//process request
	if(input){
		if(input.action != null && input.action.trim().length > 0){
			var comment = '';
			var status = '';
			if(input.action == 'update'){
				var param = input.record;
				var rec = new GlideRecord('x_naci_tissue_requ_tissue_resource_request');
				rec.get(input.sys_id);
				//set common section
				for(var key in param){
					if(key == 'project_start_date' || key == 'project_end_date'){
						var date = param[key].split('/');
						param[key] = new GlideDateTime(date[2]+'-'+date[0]+"-"+date[1]);
					}
					rec.setValue(key, param[key]);
				}
				rec.updateMultiple();
				status = 'modified';
			}else if(input.action == 'process'){
				var proc = new GlideRecord('x_naci_tissue_requ_tissue_resource_request');
				proc.get(input.sys_id);
				proc.approval_action = input.status;
				if(data.isAdmin && input.status != 'rejected'){
					proc.assigned_to = input.assigned_to.toString();
				}
				proc.update();
				status = input.status;
			}else if(input.action == "complete"){
				var record1 = input.data;
				comment = record1.comments;
				var gr2 = new GlideRecord('x_naci_tissue_requ_tissue_pickup_information');
				gr2.newRecord();
				for (var key3 in record1) {
					gr2.setValue(key3, record1[key3]);
				}
				gr2.insert();
				var comp = new GlideRecord('x_naci_tissue_requ_tissue_resource_request');
				comp.get(input.sys_id);
				comp.stage = input.status;
				comp.update();
				status = "Completed";
				input.comments = "completed";
			}else if(input.action == 'moreInfo'){
				var more = new GlideRecord('x_naci_tissue_requ_tissue_resource_request');
				more.get(input.sys_id);
				more.assigned_to = more.submitted_by.toString();
				more.approval_action = 'more';
				more.update();
				status = "More Infromation";
			}else if(input.action == 'submit'){
				var param1 = input.record;
				var res = new GlideRecord('x_naci_tissue_requ_tissue_resource_request');
				res.get(input.sys_id);
				res.stage = 'Waiting for Committee Approval';
				//set common section
				for(var key1 in param1){
					res.setValue(key1, param1[key1]);
				}
				res.updateMultiple();
				status = 'submitted';
			}else if(input.action == 'partialPickup'){
				var record = input.data;
				comment = record.comments;
				var gr1 = new GlideRecord('x_naci_tissue_requ_tissue_pickup_information');
				gr1.newRecord();
				for (var key2 in record) {
					gr1.setValue(key2, record[key2]);
				}
				gr1.insert();
				status = 'Assigned';
			}else if(input.action == 'notification'){
				var noti = new GlideRecord('x_naci_tissue_requ_tissue_resource_request');
				noti.get(input.sys_id);
				gs.eventQueue('x_naci_tissue_requ.Tissue Notification',noti, noti.submitted_by.toString(), input.data);
				comment = "Pickup Notification Sent";
				status = "Assigned";
			}
			//add comments
			if(input.comments != null && input.comments.trim().length > 0){
				comment = input.comments;
			}
			var commen = new GlideRecord('x_naci_tissue_requ_tissue_request_comment');
			commen.initialize();
			commen.tissue_request_id = input.sys_id;
			commen.role = approver;
			commen.approver = approverName;
			commen.status = status;
			commen.comment = comment;
			commen.insert(); 
		}
	}

	//load selected request
	//load local comment
	var comments = new GlideRecord('x_naci_tissue_requ_tissue_request_comment');
	comments.addQuery('tissue_request_id', sys_id);
	comments.orderByDesc('sys_created_on');
	comments.query();
	while(comments.next()){
		var comm = {};
		comm.role = comments.role.toString();
		comm.approver = comments.approver.name.toString();
		comm.status = comments.status.toString();
		comm.comment = comments.comment.toString();
		comm.time = comments.sys_created_on.toString();
		data.comment.push(comm);
	}
	//load local staff name list if the user is admin
	data.staffs = [];
	if(data.isAdmin){
		var staff = new GlideRecord('sys_user_grmember');
		staff.addQuery('group.name', 'Tissue Resource Request Local Staff');
		staff.orderBy('user.name');
		staff.query();
		while(staff.next()){
			var item = {};
			item.label = staff.user.name.toString();
			item.value = staff.user.sys_id.toString();
			data.staffs.push(item);
		}
	}
	//load request
	var tissue = new GlideRecord('x_naci_tissue_requ_tissue_resource_request');
	tissue.get(sys_id);
	//set up common section
	data.item.stage = tissue.stage.toString();
	data.item.number = tissue.number.toString();
	data.item.piName = tissue.principal_investigator.name.toString();
	//get user information
	var gr_user = new GlideRecord('sys_user');
	if (gr_user.get(tissue.principal_investigator.toString())) {
		data.item.institution = gr_user.getValue('u_org_');
		data.item.branch = gr_user.department.name.toString();
		data.item.building = gr_user.getValue('u_building_name');
		data.item.room = gr_user.getValue('u_room');
		data.item.phone = gr_user.getValue('phone');
		data.item.email = gr_user.getValue('email');
	}
	data.item.alternative_contact = tissue.alternative_contact.name.toString();
	var gr_user1 = new GlideRecord('sys_user');
	if (gr_user1.get(tissue.alternative_contact.toString())) {
		data.item.institution1 = gr_user1.getValue('u_org_');
		data.item.branch1 = gr_user1.department.name.toString();
		data.item.building1 = gr_user1.getValue('u_building_name');
		data.item.room1 = gr_user1.getValue('u_room');
		data.item.phone1 = gr_user1.getValue('phone');
		data.item.email1 = gr_user1.getValue('email');
	}	
	data.item.can_number = tissue.can_number.toString();
	data.item.type = tissue.type.toString();
	var type = tissue.type;
	if(type == 'Clinical Archives linked to protocol'){ //type 1
		data.item.irb_protocol = tissue.irb_protocol_number.toString();
		data.item.patient_name = tissue.patient_name.toString();
		data.item.caseBlock1 = tissue.case_block_1.toString();
		data.item.caseBlock2 = tissue.case_block_2.toString(); 
		data.item.caseBlock3 = tissue.case_block_3.toString();				
		data.item.caseBlock4 = tissue.case_block_4.toString();
		data.item.caseBlock5 = tissue.case_block_5.toString();
		data.item.material_requested = tissue.material_being_requested.toString();
		if(data.item.material_requested == 'Unstained Slides'){
			data.item.number_of_recuts = tissue.number_of_recuts.toString();
			data.item.requested_thickness = tissue.requested_thickness.toString();
		}else if(data.item.material_requested == 'Stained Slides'){
			data.item.he = tissue.he.toString() == 'true';
			data.item.special_stains = tissue.special_stains.toString() == 'true';
		}else if(data.item.material_requested == 'Tissue Shavings'){
			data.item.tissue_shaving_text = tissue.tissue_shaving_text.toString();
		}else if(data.item.material_requested == 'Slide Signout From LP'){
			data.item.slide_signout_from_lp_text = tissue.slide_signout_from_lp_text.toString();
		}else if(data.item.material_requested == 'Other Material'){
			data.item.other_material_specify = tissue.other_material_specify.toString();
		}else if(data.item.material_requested == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'){
			data.item.ffpe_tissue_block_text = tissue.ffpe_tissue_block_text.toString();
		}
		data.item.special_processing_or_handling = tissue.special_processing_or_handling.toString();
		data.item.intent_to_use = tissue.intent_to_use.toString();
	}else if(type=='Clinical Archives unlinked'){        //type 2
		data.item.clinic_archives = tissue.clinic_archives.toString();
		data.item.case_block_2_1 = tissue.case_block_2_1.toString();
		data.item.case_block_2_2 = tissue.case_block_2_2.toString(); 
		data.item.case_block_2_3 = tissue.case_block_2_3.toString();				
		data.item.case_block_2_4 = tissue.case_block_2_4.toString();
		data.item.case_block_2_5 = tissue.case_block_2_5.toString();
		data.item.material_being_requested_2 = tissue.material_being_requested_2.toString();
		if(data.item.material_being_requested_2 == 'Unstained Slides'){
			data.item.number_of_recuts2 = tissue.number_of_recuts2.toString();
			data.item.requested_thinkness2 = tissue.requested_thinkness2.toString();
		}else if(data.item.material_being_requested_2 == 'Stained Slides'){
			data.item.he2 = tissue.he2.toString() == 'true';
			data.item.special_stains2 = tissue.special_stains2.toString() == 'true';
		}else if(data.item.material_being_requested_2 == 'Tissue Shavings'){
			data.item.tissue_shaving_text_2 = tissue.tissue_shaving_text_2.toString();
		}else if(data.item.material_being_requested_2 == 'Slide Signout from LP'){
			data.item.slide_signout_from_lp_text_2 = tissue.slide_signout_from_lp_text_2.toString();
		}else if(data.item.material_being_requested_2 == 'Other Material'){
			data.item.other_material_specify_2 = tissue.other_material_specify_2.toString();
		}else if(data.item.material_being_requested_2 == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'){
			data.item.ffpe_tissue_block_text_2 = tissue.ffpe_tissue_block_text_2.toString();
		}
		data.item.special_processing_or_handling_2 = tissue.special_processing_or_handling_2.toString();
		data.item.intent_to_use_2 = tissue.intent_to_use_2.toString();				
	}else if(type=='Formalin - Fixed Paraffin - Embedded Biomedical Waste - Unlinked / Anonymized'){
		data.item.case_tissue_type = tissue.case_tissue_type.toString();
		data.item.material_being_requested_3 = tissue.material_being_requested_3.toString();
		if(data.item.material_being_requested_3 == 'Unstained Slides'){
			data.item.number_of_recuts_per_slide_3 = tissue.number_of_recuts_per_slide_3.toString();
			data.item.requested_thickness_3 = tissue.requested_thickness_3.toString();
		}else if(data.item.material_being_requested_3 == 'Stained Slides'){
			data.item.he3 = tissue.he3.toString() == 'true';
			data.item.special_stains3 = tissue.special_stains3.toString() == 'true';
		}else if(data.item.material_being_requested_3 == 'Tissue Shavings'){
			data.item.tissue_shaving_text_3 = tissue.tissue_shaving_text_3.toString();
		}else if(data.item.material_being_requested_3 == 'Other Material'){
			data.item.other_material_specify_3 = tissue.other_material_specify_3.toString();
		}else if(data.item.material_being_requested_3 == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'){
			data.item.ffpe_tissue_block_text_3 = tissue.ffpe_tissue_block_text_3.toString();
		}				
		data.item.special_processing_or_handling_3 = tissue.special_processing_or_handling_3.toString();
		data.item.intent_to_use_3 = tissue.intent_to_use_3.toString();
	}else if(type=='Fresh Frozen normal non-tumor'){
		data.item.case_tissue_type_4_1 = tissue.case_tissue_type_4_1.toString();
		data.item.case_tissue_type_4_2 = tissue.case_tissue_type_4_2.toString(); 
		data.item.case_tissue_type_4_3 = tissue.case_tissue_type_4_3.toString();				
		data.item.case_tissue_type_4_4 = tissue.case_tissue_type_4_4.toString();
		data.item.case_tissue_type_4_5 = tissue.case_tissue_type_4_5.toString();
		data.item.material_being_requested_4 = tissue.material_being_requested_4.toString();
		data.item.intend_to_use_4 = tissue.intend_to_use_4.toString();
	}else if(type=='Fresh Post-Mortem collection'){
		data.item.case_tissue_type_5_1 = tissue.case_tissue_type_5_1.toString();
		data.item.case_tissue_type_5_2 = tissue.case_tissue_type_5_2.toString(); 
		data.item.case_tissue_type_5_3 = tissue.case_tissue_type_5_3.toString();				
		data.item.case_tissue_type_5_4 = tissue.case_tissue_type_5_4.toString();
		data.item.case_tissue_type_5_5 = tissue.case_tissue_type_5_5.toString();	
		data.item.patient_name_1 = tissue.patient_name_1.toString();
		data.item.patient_name_2 = tissue.patient_name_2.toString();
		data.item.patient_name_3 = tissue.patient_name_3.toString();
		data.item.patient_name_4 = tissue.patient_name_4.toString();
		data.item.patient_name_5 = tissue.patient_name_5.toString();
		data.item.material_being_requested_5 = tissue.material_being_requested_5.toString();
		data.item.intend_to_use_5 = tissue.intend_to_use_5.toString();
	}else if(type=='FFPE & Snap Frozen tumor w/ associated clinical data â€“ WRNMMC Collaboration'){
		data.item.case_tissue_type_6_1 = tissue.case_tissue_type_6_1.toString();
		data.item.case_tissue_type_6_2 = tissue.case_tissue_type_6_2.toString(); 
		data.item.case_tissue_type_6_3 = tissue.case_tissue_type_6_3.toString();				
		data.item.case_tissue_type_6_4 = tissue.case_tissue_type_6_4.toString();
		data.item.case_tissue_type_6_5 = tissue.case_tissue_type_6_5.toString();			
		data.item.material_being_requested_6 = tissue.material_being_requested_6.toString();
		data.item.intend_to_use_6 = tissue.intend_to_use_6.toString();
	}else if(type=='Facilitated fresh tissue collection via CCR / WRNMMC Collaboration'){
		data.item.project_title = tissue.project_title.toString();
		var startDate = tissue.project_start_date.toString().split('-');
		data.item.project_start_date = startDate[1]+"/"+startDate[2]+"/"+startDate[0];
		var endDate = tissue.project_end_date.toString().split('-');
		data.item.project_end_date = endDate[1]+"/"+endDate[2]+"/"+endDate[0];
		data.item.five_key_word = tissue.five_key_word.toString();
		data.item.type_of_research = tissue.type_of_research.toString();
		data.item.disease_or_site = tissue.disease_or_site.toString();
		data.item.abstract_or_summary = tissue.abstract_or_summary.toString();
	}
	data.files = [];
	//find all attachments
	var attach = new GlideRecord('sys_attachment');
	attach.addQuery('table_name', 'x_naci_tissue_requ_tissue_resource_request');
	attach.addQuery('table_sys_id', sys_id);
	attach.orderByDesc('sys_created_on');
	attach.query();
	while(attach.next()){
		var file ={};
		file.name = attach.file_name.toString();
		file.sys_id = attach.sys_id.toString();
		data.files.push(file);
	}

	data.pickupInfo = [];
	var pickup = new GlideRecord('x_naci_tissue_requ_tissue_pickup_information');
			pickup.addQuery('tissue_request_id', data.sys_id);
			pickup.orderByDesc('sys_created_on');
	pickup.query();
	while(pickup.next()){
		var item1 = {};
		item1.sys_id = pickup.sys_id.toString();
		item1.retrievedBy = pickup.retrieved_by.name.toString();
		item1.unstainedSlide = pickup.number_of_unstained_slides.toString();
		item1.stainedSlides = pickup.	number_of_stained_slides.toString();
		item1.tissueShaving = pickup.	number_of_tissue_shavings.toString();
		item1.ffpe = pickup.number_of_ffpe.toString();
		item1.otherMaterial = pickup.number_of_other_material.toString();
		item1.pickupTime = pickup.sys_created_on.toString();
		data.pickupInfo.push(item1);
	}
	
})();]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>zhoujim@nih.gov</sys_created_by>
        <sys_created_on>2019-11-19 21:46:20</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>3c707a5cdb9d881054d8ff621f961979</sys_id>
        <sys_mod_count>1520</sys_mod_count>
        <sys_name>Approve Tissue Request</sys_name>
        <sys_package display_value="Tissue Resource Request" source="x_naci_tissue_requ">80f86cc4dbf08c1054d8ff621f96197d</sys_package>
        <sys_policy/>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Tissue Resource Request">80f86cc4dbf08c1054d8ff621f96197d</sys_scope>
        <sys_update_name>sp_widget_3c707a5cdb9d881054d8ff621f961979</sys_update_name>
        <sys_updated_by>zhoujim@nih.gov</sys_updated_by>
        <sys_updated_on>2019-12-17 16:47:17</sys_updated_on>
        <template><![CDATA[<div style="margin-bottom: 100px;" class="bg-white p-5">
  <h2>Tissue Resource Request</h2>  
  <hr>
  <div class="mt-5">
    <b class="mr-5">Tissue Resource Request Item Number</b>{{c.data.item.number}}
  </div>
  <div class="row" style="margin-top: 20px;">
    <div class="col-md-12">
      <label class="label-bold">Principal Investigator</label>  
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      {{c.data.item.piName}}
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <label class="label-bold">Institution</label>
      {{c.data.item.institution}}
    </div>  
    <div class="col-md-6">
      <label class="label-bold">Branch</label>
      {{c.data.item.branch}}		
    </div> 
  </div>
  <div class="row">
    <div class="col-md-6">
      <label class="label-bold">Building</label>
      {{c.data.item.building}}
    </div>  
    <div class="col-md-6">
      <label class="label-bold">Room</label>
      {{c.data.item.room}}
    </div> 
  </div>
  <div class="row">
    <div class="col-md-6">
      <label class="label-bold">Phone</label>
      {{c.data.item.phone}}
    </div>  
    <div class="col-md-6">
      <label class="label-bold">Email</label>
      {{c.data.item.email}}
    </div> 
  </div>
  <div class="row">
    <div class="col-md-12">
      <label class="label-bold">Alternate Contact</label>
      {{c.data.item.alternative_contact}}
    </div>  
  </div>
  <div class="row">
    <div class="col-md-6">
      <label class="label-bold">Institution</label>
      {{c.data.item.institution1}}
    </div>  
    <div class="col-md-6">
      <label class="label-bold">Branch</label>
      {{c.data.item.branch1}}		
    </div> 
  </div>
  <div class="row">
    <div class="col-md-6">
      <label class="label-bold">Building</label>
      {{c.data.item.building1}}
    </div>  
    <div class="col-md-6">
      <label class="label-bold">Room</label>
      {{c.data.item.room1}}
    </div> 
  </div>
  <div class="row">
    <div class="col-md-6">
      <label class="label-bold">Phone</label>
      {{c.data.item.phone1}}
    </div>  
    <div class="col-md-6">
      <label class="label-bold">Email</label>
      {{c.data.item.email1}}
    </div> 
  </div>  
  <div class="row">
    <div class="col-md-12" ng-show="!c.edit">
      <label class="label-bold">CAN Number</label>
      {{c.form.can_number}}
    </div>
		<div class="col-md-12" ng-show="c.edit">
      <label class="label-bold">CAN Number</label>
      <input class="form-control" ng-model="c.form.can_number"/>
    </div>    
  </div>  
  <div class="row">
    <div class="col-md-12" ng-show="!c.edit">
      <label class="label-bold">Type</label>
      {{c.form.type}}
    </div>
    <div class="col-md-12" ng-show="c.edit">
      <label class="label-bold">Type</label>
      <select class="form-control" ng-model="c.form.type">
        <option value="Clinical Archives linked to protocol">	Clinical Archives linked to protocol</option>
        <option value="Clinical Archives unlinked">Clinical Archives unlinked</option>
        <option value="Formalin - Fixed Paraffin - Embedded Biomedical Waste - Unlinked / Anonymized">Formalin - Fixed Paraffin - Embedded Biomedical Waste - Unlinked / Anonymized</option>
        <option value="Fresh Frozen normal non-tumor">Fresh Frozen normal non-tumor</option>
        <option value="Fresh Post-Mortem collection">Fresh Post-Mortem collection</option>
        <option value="FFPE & Snap Frozen tumor w/ associated clinical data â€“ WRNMMC Collaboration">FFPE & Snap Frozen tumor w/ associated clinical data â€“ WRNMMC Collaboration</option>
        <option value="Facilitated fresh tissue collection via CCR / WRNMMC Collaboration">Facilitated fresh tissue collection via CCR / WRNMMC Collaboration</option>
      </select>
    </div>
  </div>  
<!-- type 1 Clinical Archives linked to protocol -->
  <div id="type1" ng-show = 'c.form.type == "Clinical Archives linked to protocol"'>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Provide IRB Protocol #</label>
        {{c.form.irb_protocol_number}}
      </div>      
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Patient Name</label>
        {{c.form.patient_name}}
      </div>    
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Provide IRB Protocol #</label>
        <input class="form-control" ng-model="c.form.irb_protocol_number"/>
      </div>      
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Patient Name</label>
         <input class="form-control" ng-model="c.form.patient_name"/>
      </div>        
    </div>
    <div class="row">
      <div class="col-md-12">
        <label class="label-bold">Surgical Pathology or Cytology Case #(s)</label>
        <span>If requesting material from a case with multiple blocks, the requester must specify which block is being requested (e.g. SI-xx-1234, block 1A) Note: if needed, schedule a meeting with the LP Hotseat Resident or collaborating pathologist to select the most appropriate block(s).</span>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_1}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_2}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_1"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_2"/>
      </div>      
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_3}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_4}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_3"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_4"/>
      </div>      
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_5}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_5"/>
      </div>
      <div class="col-md-6" ng-show="c.edit" style="margin-top:30px;">
        <input type="file" id="upload_file" style="margin-bottom:5px;">
        <button class="btn btn-primary" ng-click="c.uploadAttachment('upload_file')">Add Attachment</button>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Material Being Requested</label>
        {{c.form.material_being_requested}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Material Being Requested</label>
         <select class="form-control" ng-model="c.form.material_being_requested">
           <option value="Unstained Slides">Unstained Slides</option>
           <option value="Stained Slides">Stained Slides</option>
           <option value="Tissue Shavings">Tissue Shavings</option>
           <option value="Slide Signout From LP">Slide Signout From LP</option>
           <option value="Other Material">Other Material</option>
           <option value="FFPE Tissue Block (formalin-fixed, paraffin-embedded)">FFPE Tissue Block (formalin-fixed, paraffin-embedded)</option>
        </select>
      </div>      
    </div>
    <div class="row" ng-show="c.form.material_being_requested == 'Unstained Slides'">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Number of recuts per slide</label>
        {{c.form.number_of_recuts}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Requested thickness</label>
        {{c.form.requested_thickness}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Number of recuts per slide</label>
        <input class="form-control" ng-model="c.form.number_of_recuts"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Requested thickness</label>
        <input class="form-control" ng-model="c.form.requested_thickness"/>
      </div>      
    </div>
    <div class="row" ng-show="c.form.material_being_requested == 'Stained Slides'" style="margin-top: 20px;">
      <div class="col-md-12" ng-show="!c.edit">
        <input type="checkbox" ng-model="c.form.he" disabled='disabled'> H&E 
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <input type="checkbox" ng-model="c.form.he"> H&E 
      </div>
    </div>
    <div class="row" ng-show="c.form.material_being_requested == 'Stained Slides'">
      <div class="col-md-12" ng-show="!c.edit">
        <input type="checkbox" ng-model="c.form.special_stains" disabled='disabled'> If Special stains or IHC, must be via collaboration with an LP Pathlogist
      </div> 
      <div class="col-md-12" ng-show="c.edit">
        <input type="checkbox" ng-model="c.form.special_stains"> If Special stains or IHC, must be via collaboration with an LP Pathlogist
      </div>       
    </div>
    <div class="row" ng-show="c.form.material_being_requested == 'Tissue Shavings'">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.tissue_shaving_text}}
      </div> 
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify</label>
        <input class="form-control" ng-model="c.form.tissue_shaving_text"/>
      </div>      
    </div>
    <div class="row" ng-show="c.form.material_being_requested == 'Slide Signout From LP'">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.slide_signout_from_lp_text}}
      </div>   
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify</label>
        <input class="form-control" ng-model="c.form.slide_signout_from_lp_text"/>
      </div>        
    </div>
    <div class="row" ng-show="c.form.material_being_requested == 'Other Material'">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.other_material_specify}}
      </div>      
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify</label>
        <input class="form-control" ng-model="c.form.other_material_specify">
      </div>      
    </div>
    <div class="row" ng-show="c.form.material_being_requested == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'">
      <div class="col-md-12">
        <label class="label-bold">Note</label>
        <span>LP does not typically release tissue blocks from the clinical archived biomaterial. On a rare occasion, the LP Medical Director can authorize the temporary release of a clinical tissue block for additional non-LP clinical testing.</span>
      </div>       
    </div>
    <div class="row" ng-show="c.form.material_being_requested == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.ffpe_tissue_block_text}}
      </div>       
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify</label>
        <input class="form-control" ng-model="c.form.ffpe_tissue_block_text"/>
      </div>       
    </div>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify any special processing or handling request (e.g. charged, RNAse free, etc)</label>
        {{c.form.special_processing_or_handling}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify any special processing or handling request (e.g. charged, RNAse free, etc)</label>
        <input class="form-control" ng-model="c.form.special_processing_or_handling"/>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Intended use</label>
        <span style="white-space: pre-wrap">{{c.form.intent_to_use}}</span>
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Intended use</label>
        <textarea class="form-control" ng-model="c.form.intent_to_use" rows="5"></textarea>
      </div>
      
    </div>    
  </div>
  <!-- end of type 1-->
  <!-- type 2 Clinical Archives unlinked -->
  <div id="type2" ng-show = 'c.form.type == "Clinical Archives unlinked"'>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Clinical Archives unlinked or Autopsy</label>
        {{c.form.clinic_archives}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Clinical Archives unlinked or Autopsy</label>
        <select class="form-control" ng-model="c.form.clinic_archives">
           <option label="Clinical Archives" value="Clinical Archives">Clinical Archives</option>
           <option label="For Autopsy, no IRB exemption required" value="For Autopsy, no IRB exemption required">For Autopsy, no IRB exemption required</option>
           <option label="Clinical laboratory validation material does not require IRB approval" value="Clinical laboratory validation material does not require IRB approval">Clinical laboratory validation material does not require IRB approval</option>
        </select>
      </div>
    </div>
    <div class="row" ng-show="c.form.clinic_archives == 'Clinical Archives'">
      <div class="col-md-12">
        <label class="label-bold">Clinic Archives Note</label>
        <ul>
          <li>Can be email or formal form from IRB for exemption</li>
          <li>All slides and/or containers will be deidentified for unlinked clinical archived material.</li>
          <li>There will be no link available</li>
        </ul>
      </div>
    </div>    
    <div class="row" ng-show="c.form.clinic_archives == 'Clinical Archives'">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Provide IRB Exception</label>
        Please see Attachment(s) section
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Provide IRB Exception</label>
      </div>
       <div class="col-md-6" ng-show="c.edit" style="margin-top:30px;">
        <input type="file" id="upload_file1" style="margin-bottom:5px;">
        <button class="btn btn-primary" ng-click="c.uploadAttachment('upload_file1')">Add Attachment</button>
      </div>      
    </div>    
    <div class="row" ng-show="c.form.clinic_archives == 'Clinical laboratory validation material does not require IRB approval'">
      <div class="col-md-12">
        <label class="label-bold">Laboratory Validation Note</label>
        Clinical validation material (must provide clinical test being validated in intended use)
      </div>
    </div>    
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_2_1}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_2_2}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_2_1"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_2_2"/>
      </div> 
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_2_3}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_2_4}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_2_3"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_2_4"/>
      </div> 
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        {{c.form.case_block_2_5}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case #, Block #(s)</label>
        <input class="form-control" ng-model="c.form.case_block_2_5"/>
      </div> 
       <div class="col-md-6" ng-show="c.edit" style="margin-top:30px;">
        <input type="file" id="upload_file2" style="margin-bottom:5px;">
        <button class="btn btn-primary" ng-click="c.uploadAttachment('upload_file2')">Add Attachment</button>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Material Being Requested</label>
        {{c.form.material_being_requested_2}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Material Being Requested</label>
         <select class="form-control" ng-model="c.form.material_being_requested_2">
           <option value="Unstained Slides">Unstained Slides</option>
           <option value="Stained Slides">Stained Slides</option>
           <option value="Tissue Shavings">Tissue Shavings</option>
           <option value="Slide Signout From LP">Slide Signout From LP</option>
           <option value="Other Material">Other Material</option>
           <option value="FFPE Tissue Block (formalin-fixed, paraffin-embedded)">FFPE Tissue Block (formalin-fixed, paraffin-embedded)</option>
        </select>
      </div> 
    </div>
    <div class="row" ng-show="c.form.material_being_requested_2 == 'Unstained Slides'">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Number of recuts per slide</label>
        {{c.form.number_of_recuts2}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Requested thickness</label>
        {{c.form.requested_thinkness2}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Number of recuts per slide</label>
        <input class="form-control" ng-model="c.form.number_of_recuts2"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Requested thickness</label>
        <input class="form-control" ng-model="c.form.requested_thinkness2"/>
      </div>        
    </div>
    <div class="row" ng-show="c.form.material_being_requested_2 == 'Stained Slides'" style="margin-top: 20px;">
      <div class="col-md-12" ng-show="!c.edit">
        <input type="checkbox" ng-model="c.form.he2" disabled='disabled'> H&E 
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <input type="checkbox" ng-model="c.form.he2"> H&E 
      </div>
    </div>
    <div class="row" ng-show="c.form.material_being_requested_2 == 'Stained Slides'">
      <div class="col-md-12" ng-show="!c.edit">
        <input type="checkbox" ng-model="c.form.special_stains2" disabled='disabled'> If Special stains or IHC, must be via collaboration with an LP Pathlogist
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <input type="checkbox" ng-model="c.form.special_stains2"> If Special stains or IHC, must be via collaboration with an LP Pathlogist
      </div>
    </div>
    <div class="row" ng-show="c.form.material_being_requested_2 == 'Tissue Shavings'">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.tissue_shaving_text_2}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify</label>
        <input class="form-control" ng-model="c.form.tissue_shaving_text_2"/>
      </div>
    </div>
    <div class="row" ng-show="c.form.material_being_requested_2 == 'Slide Signout From LP'">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.slide_signout_from_lp_text_2}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify</label>
         <input class="form-control" ng-model="c.form.slide_signout_from_lp_text_2"/>
      </div>      
    </div>
    <div class="row" ng-show="c.form.material_being_requested_2 == 'Other Material'">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.other_material_specify_2}}
      </div>      
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify</label>
        <input class="form-control" ng-model="c.form.other_material_specify_2"/>
      </div>      
    </div>
    <div class="row" ng-show="c.form.material_being_requested_2 == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'">
      <div class="col-md-12">
        <label class="label-bold">Note</label>
        <span>LP does not typically release tissue blocks from the clinical archived biomaterial. On a rare occasion, the LP Medical Director can authorize the temporary release of a clinical tissue block for additional non-LP clinical testing.</span>
      </div>       
    </div>
    <div class="row" ng-show="c.form.material_being_requested_2 == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.ffpe_tissue_block_text_2}}
      </div>   
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify</label>
         <input class="form-control" ng-model="c.form.ffpe_tissue_block_text_2"/>
      </div>         
    </div>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Specify any special processing or handling request (e.g. charged, RNAse free, etc)</label>
        {{c.form.special_processing_or_handling_2}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Specify any special processing or handling request (e.g. charged, RNAse free, etc)</label>
         <input class="form-control" ng-model="c.form.special_processing_or_handling_2"/>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Intended use</label>
        {{c.form.intent_to_use_2}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Intended use</label>
        <textarea class="form-control" ng-model="c.form.intent_to_use_2" rows="5"></textarea>
      </div>
    </div>    
  </div>
  <!-- end of type 2-->
  <!-- type 3:  -->
  <div id="type3" ng-show = 'c.form.type == "Formalin - Fixed Paraffin - Embedded Biomedical Waste - Unlinked / Anonymized"'>
    <div class="row">
      <div class="col-md-12">
        <label class="label-bold">Note</label>
        <ul>
          <li>All slides and/or containers will be deidentified for unlinked clinical archived material.</li>
          <li>There will be no link available or kept on file in LP.</li>
          <li>Complete one request per tissue type.</li>
        </ul>
      </div>       
    </div>  
    <div class="row">
      <div class="col-md-12"  ng-show="!c.edit">
        <label class="label-bold">Case / Tissue Type Being Requested</label>
        {{c.form.case_tissue_type}}
      </div>   
      <div class="col-md-12"  ng-show="c.edit">
        <label class="label-bold">Case / Tissue Type Being Requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type"/>
      </div>   
    </div> 
    <div class="row">
      <div class="col-md-12"  ng-show="!c.edit">
        <label class="label-bold">Material Being Requested</label>
        {{c.form.material_being_requested_3}}
      </div>
      <div class="col-md-12"  ng-show="c.edit">
        <label class="label-bold">Material Being Requested</label>
        <select class="form-control" ng-model="c.form.material_being_requested_3">
           <option value="Unstained Slides">Unstained Slides</option>
           <option value="Stained Slides">Stained Slides</option>
           <option value="Tissue Shavings">Tissue Shavings</option>
           <option value="Other Material">Other Material</option>
           <option value="FFPE Tissue Block (formalin-fixed, paraffin-embedded)">FFPE Tissue Block (formalin-fixed, paraffin-embedded)</option>
        </select>
      </div>
    </div>
    <div class="row" ng-show="c.form.material_being_requested_3 == 'Unstained Slides'">
      <div class="col-md-6"  ng-show="!c.edit">
        <label class="label-bold">Number of recuts per slide</label>
        {{c.form.number_of_recuts_per_slide_3}}
      </div>
      <div class="col-md-6"  ng-show="!c.edit">
        <label class="label-bold">Requested thickness</label>
        {{c.form.requested_thickness_3}}
      </div>
      <div class="col-md-6"  ng-show="c.edit">
        <label class="label-bold">Number of recuts per slide</label>
        <input class="form-control" ng-model="c.form.number_of_recuts_per_slide_3"/>
      </div>
      <div class="col-md-6"  ng-show="c.edit">
        <label class="label-bold">Requested thickness</label>
     		<input class="form-control" ng-model="c.form.requested_thickness_3"/>
      </div>      
    </div>
    <div class="row" ng-show="c.form.material_being_requested_3 == 'Stained Slides'" style="margin-top: 20px;">
      <div class="col-md-12"  ng-show="!c.edit">
        <input type="checkbox" ng-model="c.form.he3" disabled='disabled'> H&E 
      </div>
      <div class="col-md-12"  ng-show="c.edit">
        <input type="checkbox" ng-model="c.form.he3"> H&E 
      </div>
    </div>
    <div class="row" ng-show="c.form.material_being_requested_3 == 'Stained Slides'">
      <div class="col-md-12"  ng-show="!c.edit">
        <input type="checkbox" ng-model="c.form.special_stains3" disabled='disabled'> If Special stains or IHC, must be via collaboration with an LP Pathlogist
      </div>
      <div class="col-md-12"  ng-show="c.edit">
        <input type="checkbox" ng-model="c.form.special_stains3"> If Special stains or IHC, must be via collaboration with an LP Pathlogist
      </div>
    </div>
    <div class="row" ng-show="c.form.material_being_requested_3 == 'Tissue Shavings'">
      <div class="col-md-12"  ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.tissue_shaving_text_3}}
      </div>      
      <div class="col-md-12"  ng-show="c.edit">
        <label class="label-bold">Specify</label>
        <input class="form-control" ng-model="c.form.tissue_shaving_text_3"/>
      </div>      
    </div>
    <div class="row" ng-show="c.form.material_being_requested_3 == 'Other Material'">
      <div class="col-md-12"  ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.other_material_specify_3}}
      </div>      
      <div class="col-md-12"  ng-show="c.edit">
        <label class="label-bold">Specify</label>
         <input class="form-control" ng-model="c.form.other_material_specify_3"/>
      </div>      
    </div>
    <div class="row" ng-show="c.form.material_being_requested_3 == 'FFPE Tissue Block (formalin-fixed, paraffin-embedded)'">
      <div class="col-md-12"  ng-show="!c.edit">
        <label class="label-bold">Specify</label>
        {{c.form.ffpe_tissue_block_text_3}}
      </div>       
      <div class="col-md-12"  ng-show="c.edit">
        <label class="label-bold">Specify</label>
        <input class="form-control" ng-model="c.form.ffpe_tissue_block_text_3"/>
      </div>       
    </div>
    <div class="row">
      <div class="col-md-12"  ng-show="!c.edit">
        <label class="label-bold">Specify any special processing or handling request (e.g. charged, RNAse free, etc)</label>
        {{c.form.special_processing_or_handling_3}}
      </div>
      <div class="col-md-12"  ng-show="c.edit">
        <label class="label-bold">Specify any special processing or handling request (e.g. charged, RNAse free, etc)</label>
        <input class="form-control" ng-model="c.form.special_processing_or_handling_3"/>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12"  ng-show="!c.edit">
        <label class="label-bold">Intended use</label>
        {{c.form.intent_to_use_3}}
      </div>
      <div class="col-md-12"  ng-show="c.edit">
        <label class="label-bold">Intended use</label>
        <textarea class="form-control" ng-model="c.form.intent_to_use_3" rows="5"></textarea>
      </div>      
    </div>    
  </div>
  <!-- end of type 3 -->
  <!-- type 4:  -->
  <div id="type4" ng-show = 'c.form.type == "Fresh Frozen normal non-tumor"'>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_4_1}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_4_2}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_4_1"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_4_2"/>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_4_3}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_4_4}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_4_3"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_4_4"/>
      </div>      
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_4_5}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_4_5"/>
      </div>         
      <div class="col-md-6" ng-show="c.edit" style="margin-top:30px;">
        <input type="file" id="upload_file3" style="margin-bottom:5px;">
        <button class="btn btn-primary" ng-click="c.uploadAttachment('upload_file3')">Add Attachment</button>
      </div>     
    </div>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Material Being Requested</label>
        {{c.form.material_being_requested_4}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Material Being Requested</label>
         <input class="form-control" ng-model="c.form.material_being_requested_4"/>
      </div>
    </div>    
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Intended use</label>
        {{c.form.intend_to_use_4}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Intended use</label>
        <textarea class="form-control" ng-model="c.form.intend_to_use_4" rows="5"></textarea>
      </div>      
    </div>      
  </div>  
  <!-- end of type 4 -->
  <!-- type 5:  -->
  <div id="type5" ng-show = 'c.form.type == "Fresh Post-Mortem collection"'>
    <div class="row">
      <div class="col-md-12">
        <label class="label-bold">Note</label>
        requesting PI will identify processing/storage media and transport, LP will notify PI when an appropriate case is scheduled, most often short-notice
      </div>
    </div>     
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_5_1}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_5_2}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_5_1"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_5_2"/>
      </div>      
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_5_3}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_5_4}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_5_3"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_5_4"/>
      </div>      
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        {{c.form.case_tissue_type_5_5}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Case / tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_5_5"/>
      </div>
      <div class="col-md-6" ng-show="c.edit" style="margin-top:30px;">
        <input type="file" id="upload_file4" style="margin-bottom:5px;">
        <button class="btn btn-primary" ng-click="c.uploadAttachment('upload_file4')">Add Attachment</button>      
      </div>      
    </div>
    <div class="row">
      <div class="col-md-12">
        <label class="label-bold">Note</label>
        Specify patient name(s) and medical record number(s) If specific Case(s) being requested
      </div>
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        {{c.form.patient_name_1}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        {{c.form.patient_name_2}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        <input class="form-control" ng-model="c.form.patient_name_1"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        <input class="form-control" ng-model="c.form.patient_name_2"/>
      </div>      
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        {{c.form.patient_name_3}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        {{c.form.patient_name_4}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        <input class="form-control" ng-model="c.form.patient_name_3"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        <input class="form-control" ng-model="c.form.patient_name_4"/>
      </div>       
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        {{c.form.patient_name_5}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Patient Name & Medical record Number(s)</label>
        <input class="form-control" ng-model="c.form.patient_name_5"/>
      </div>
      <div class="col-md-6" ng-show="c.edit" style="margin-top:30px;">
        <input type="file" id="upload_file5" style="margin-bottom:5px;">
        <button class="btn btn-primary" ng-click="c.uploadAttachment('upload_file5')">Add Attachment</button>      
      </div>        
    </div>    
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Material Being Requested</label>
        {{c.form.material_being_requested_5}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Material Being Requested</label>
        <input class="form-control" ng-model="c.form.material_being_requested_5"/>
      </div>      
    </div>    
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Intended use</label>
        {{c.form.intend_to_use_5}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Intended use</label>
        <textarea class="form-control" ng-model="c.form.intend_to_use_5" rows="5"></textarea>
      </div>      
    </div>     
  </div>
  <!-- end of type 5 -->
  <!-- type 6:  -->
  <div id="type6" ng-show = 'c.form.type == "FFPE & Snap Frozen tumor w/ associated clinical data â€“ WRNMMC Collaboration"'>
    <div class="row">
      <div class="col-md-12">
        <label class="label-bold">Note</label>
        <ul>
          <li>These tissues are collected via a research collaboration between NCI and WRNMMC.</li>
          <li>All biomaterial are unlinked and anonymized, issued as FFPE tissue block and/or snap frozen.</li>
          <li>Clinical information might include: Age, Sex, Ethnicity, Demongraphics, Clinical History and Diagnostic/Laboratory Data.</li>
        </ul>
      </div>
    </div>    
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Tissue type being requested</label>
        {{c.form.case_tissue_type_6_1}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Tissue type being requested</label>
        {{c.form.case_tissue_type_6_2}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_6_1"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_6_2"/>
      </div>      
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Tissue type being requested</label>
        {{c.form.case_tissue_type_6_3}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Tissue type being requested</label>
        {{c.form.case_tissue_type_6_4}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_6_3"/>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_6_4"/>
      </div>        
    </div>
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Tissue type being requested</label>
        {{c.form.case_tissue_type_6_5}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Tissue type being requested</label>
        <input class="form-control" ng-model="c.form.case_tissue_type_6_5"/>
      </div>
      <div class="col-md-6" ng-show="c.edit" style="margin-top:30px;">
        <input type="file" id="upload_file6" style="margin-bottom:5px;">
        <button class="btn btn-primary" ng-click="c.uploadAttachment('upload_file6')">Add Attachment</button>      
      </div>  
    </div>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Material Being Requested</label>
        {{c.form.material_being_requested_6}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Material Being Requested</label>
        <input class="form-control" ng-model="c.form.material_being_requested_6"/>
      </div>
    </div>    
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Intended use</label>
        {{c.form.intend_to_use_6}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Intended use</label>
        <textarea class="form-control" ng-model="c.form.intend_to_use_6" rows="5"></textarea>
      </div>      
    </div>     
  </div>  
  <!-- end of type 6 -->
  <!-- type 7:  -->
  <div id="type7" ng-show = 'c.form.type == "Facilitated fresh tissue collection via CCR / WRNMMC Collaboration"'>
    <div class="row">
      <div class="col-md-12">
        <label class="label-bold">Note</label>
        can be fresh collection, LP will facilitate through CCR medical liaison to link NIH PI with WR clinicians.
      </div>
    </div>    
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Title of Project</label>
        {{c.form.project_title}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Title of Project</label>
        <input class="form-control" ng-model="c.form.project_title"/>
      </div>      
    </div>        
    <div class="row">
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Estimated Project Start Date</label>
        {{c.form.project_start_date}}
      </div>
      <div class="col-md-6" ng-show="!c.edit">
        <label class="label-bold">Estimated Project Complete Date</label>
        {{c.form.project_end_date}}
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Estimated Project Start Date</label>
        <div class='input-group date' id='datetimepicker1'>
          <input type='text' class="form-control" readonly='true'/>
          <span class="input-group-addon">
            <span class="glyphicon glyphicon-calendar"></span>
          </span>
        </div>
      </div>
      <div class="col-md-6" ng-show="c.edit">
        <label class="label-bold">Estimated Project Complete Date</label>
        <div class='input-group date' id='datetimepicker2'>
          <input type='text' class="form-control" readonly='true'/>
          <span class="input-group-addon">
            <span class="glyphicon glyphicon-calendar"></span>
          </span>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Provide up to 5 Key Words that Identify the Broad Topic(s)/Expertise of Your Study</label>
        {{c.form.five_key_word}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Provide up to 5 Key Words that Identify the Broad Topic(s)/Expertise of Your Study</label>
        <input class="form-control" ng-model="c.form.five_key_word"/>
      </div>        
    </div>    
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">What Type of Research Collaboration is Rquested</label>
        {{c.form.type_of_research}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">What Type of Research Collaboration is Rquested</label>
        <input class="form-control" ng-model="c.form.type_of_research"/>
      </div>      
    </div> 
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">What is the Disease/Site</label>
        {{c.form.disease_or_site}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">What is the Disease/Site</label>
         <input class="form-control" ng-model="c.form.disease_or_site"/>
      </div>
    </div>     
    <div class="row">
      <div class="col-md-12" ng-show="!c.edit">
        <label class="label-bold">Abstract/Summary (Briefly Describe the Purpose, Subject Population, Study's Design Type and Procedures)</label>
        {{c.form.abstract_or_summary}}
      </div>
      <div class="col-md-12" ng-show="c.edit">
        <label class="label-bold">Abstract/Summary (Briefly Describe the Purpose, Subject Population, Study's Design Type and Procedures)</label>
        <textarea class="form-control" ng-model="c.form.abstract_or_summary" rows="5"></textarea>
      </div>      
    </div>     
  </div>
  <!-- end of type 7 -->
  <!-- show attachments -->
  <div class="row" ng-show='c.data.files.length > 0'>
    <div class="col-md-12">
      <label class="label-bold">Attachment(s)</label>
      <div ng-repeat='item in c.data.files' style="margin-top: 10px; margin-bottom:10px;"><a href='/api/naci/attachment_util/attachment/v1/{{item.sys_id}}' target="_BLANK">{{item.name}}</a><button class="btn btn-danger btn-sm" ng-show="c.edit" ng-click="c.deleteAttachment(item.sys_id)" style="float:right;">Remove</button></div>
    </div>
  </div>
  <!-- end of attachments -->
  <!-- comments history section -->
  <div class="mb-2 br-4" style="margin-top:20px; justify-content: right;" ng-show="!c.edit && c.data.comment.length > 0">
    <div class="title-bold">
      Approval Status
    </div>  
    <div class="table-responsive shadow ">
      <table class="table table-bordered table-hover">
        <thead>
          <tr class="bg-light-gray">
            <th>Role</th>
            <th>Approver</th>
            <th>Status</th>
            <th>Comments</th>
            <th>Time</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="item in c.data.comment">
            <td>{{item.role}}</td>
            <td>{{item.approver}}</td>
            <td>{{item.status}}</td>
            <td>{{item.comment}}</td>
            <td>{{item.time}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- end of comments history section -->
  <!-- pickup Information -->
  <div class="mb-2 br-4" style="margin-top:20px; justify-content: right;" ng-show="c.data.pickupInfo.length > 0">
    <div class="title-bold">
      Pick Up Information
    </div>  
    <div class="table-responsive shadow ">
      <table class="table table-bordered table-hover">
        <thead>
          <tr class="bg-light-gray">
            <th>Retrieved By</th>
            <th># unstained Slides</th>
            <th># Stained Slides</th>
            <th># Tissue Shavings</th>
            <th># FFPE Tissue Block</th>
            <th>Other Material</th>
            <th>Pick Up Time</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="item in c.data.pickupInfo">
            <td>{{item.retrievedBy}}</td>
            <td>{{item.unstainedSlide}}</td>
            <td>{{item.stainedSlides}}</td>
            <td>{{item.tissueShaving}}</td>
            <td>{{item.ffpe}}</td>
            <td>{{item.otherMaterial}}</td>
            <td>{{item.pickupTime}}</td>
            <td><a href="" ng-click="c.displayPickupInfo(item.sys_id)">Details</a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- end of pickup information -->
 <!-- comments section -->
 <div class="mb-2 br-4" style="margin-top:20px; justify-content: right;" ng-show="!c.edit && c.data.item.stage != 'Assigned to Local Staff' && c.data.item.stage != 'Completed'">
   <div class="title-bold">
     	Comments
   </div>
   <div>
     <textarea class="form-control" ng-model="c.form.comment" rows="5"></textarea>
   </div>
 </div>
  <!-- end of comments input section -->
  <!-- assign to local staff section -->
  <div class="row" style="margin-top:20px;" ng-show="c.data.isAdmin && !c.edit && c.data.item.stage != 'Assigned to Local Staff' && c.data.item.stage != 'Completed' && c.data.item.stage != 'More Infromation'">
    <div class="col-md-3">
      <label>Assign To</label> 
    </div>
    <div class="col-md-9">
      <select class="form-control" ng-model="c.form.assigned_to">
        <option value=''>Please select a staff member to assign to</option>
        <option ng-repeat='item in c.data.staffs' ng-value='item.value'>{{item.label}}</option>
      </select>
    </div>
  </div>
  <!-- end of assign -->
  <div class="row" style="margin-top:20px; justify-content: right;">
    <div class="col-md-12 action-buttons" style="text-align:right;">
      <button class="btn btn-primary" ng-click="c.moreInfo()" ng-show="!c.edit && c.data.item.stage == 'Waiting for Committee Approval'">
        MORE INFORMATION
      </button> 
      <button class="btn btn-primary" ng-click="c.approve()" ng-show="!c.edit && c.data.item.stage != 'Assigned to Local Staff' && c.data.item.stage != 'Completed' && c.data.item.stage != 'More Infromation'">
        APPROVE
      </button>
      <button class="btn btn-primary" ng-click="c.reject()" ng-show="!c.edit && c.data.item.stage != 'Assigned to Local Staff' && c.data.item.stage != 'Completed' && c.data.item.stage != 'More Infromation'">
        REJECT
      </button>
      <button class="btn btn-primary" ng-click="c.resubmit()" ng-show="!c.edit && c.data.item.stage == 'More Infromation'">
        SUBMIT
      </button>
      <button class="btn btn-primary" ng-click="c.editMode()" ng-show="!c.edit && (c.data.item.stage == 'Waiting for Supervisor Approval' || c.data.item.stage == 'More Infromation')">
        EDIT
      </button>
      <button class="btn btn-primary" ng-click="c.saveRecord()" ng-show="c.edit">
        SAVE
      </button>
      <button class="btn btn-primary" ng-click="c.cancel()" ng-show="c.edit">
        CANCEL
      </button>
      <button class="btn btn-primary" ng-click="c.notify()" ng-show="c.data.localStaff && c.data.item.stage == 'Assigned to Local Staff'">
        NOTIFY TO PICK UP
      </button>     
      <button class="btn btn-primary" ng-click="c.readyComplete()" ng-show="c.data.localStaff && c.data.item.stage == 'Assigned to Local Staff'">
        COMPLETE
      </button>
      <button class="btn btn-primary" ng-click="c.exportDoc()" ng-show="!c.edit">
        Export
      </button>   
      <button class="btn btn-primary" ng-click="c.backToHome()" ng-show="!c.edit">
        BACK
      </button>
    </div>
  </div> 
  <pre ng-if="c.debug">
  	{{c.form  | json}}
    -------------------
    {{c.old_form | json}}
    -----------------
    {{c.info  | json}}
     --------------------
    {{c.pickup  | json}}
    </pre>
 </div>

<div id="notification-modal" class="d-none">
  <div class="modal-header">
    <h4 class="modal-title">
      Pick up Materials
    </h4>
  </div>
  <form class="modal-body" id="modal-body">
    <div class="row">
      <div class="col-md-4">
        <label style="cursor: pointer" for="pickup-full">
          <input type="radio" id="pickup-full" name="request-pickup" ng-model="c.info.matierial" value='full'>
          Complete request ready for pickup     
        </label>
      </div>
      <div class="col-md-8">
        <label style="cursor: pointer" for="pickup-partial">
          <input type="radio" id="pickup-partial" name="request-pickup" ng-model="c.info.matierial" value='partial'>
          Partial ready for pickup (Please specify below what are ready)            
        </label>
      </div>
    </div>
    <div class="row mb-10" >
      <div class="col-md-12">
        <textarea ng-model="c.info.description" rows="5" class="form-control" PlaceHolder="Enter your Notes"></textarea>
      </div>
    </div>
  </form>
  <div class="modal-footer d-flex">
    <button type="button" class="btn btn-primary" ng-click='c.send();'>Send</button>
    <button type="button" class="btn btn-default" ng-click="c.close();">Cancel</button>
  </div>  
</div>

<div id="pickup-complete-modal" class="modal fade" data-keyborad="false" data-backdrop="static">
  <div class="modal-dialog modal-lg" style="width:1400px;">
    <div class="modal-content" style="min-height:400px; overflow-y:hidden; overflow-x: hidden;">
      <div class="modal-header">
        <h4  class="modal-title"><b>Pick up Information</b></h4>
      </div>      
      <div class="modal-body" style="padding-bottom:0px;">
        <div id="error" style="display:none;"><font color='red'>Retrieved by is required.</font></div>
        <div style="box-shadow: 0 10px 10px rgba(0, 0, 0, 0.2);">
          <sp-widget widget="c.data.widget_add">
            <i class="fa fa-cog fa-spin fa-10x fa-fw"></i>
            Loading...
          </sp-widget>
        </div>
        <div class="form-section mb-3" style="text-align:center; padding-top: 15px;border-top: 1px solid #e5e5e5;display:block;">
          <button type="button" class="btn btn-primary" ng-click='c.partialPickup();'>Partial Pick Up</button>
          <button type="button" class="btn btn-primary" ng-click='c.complete()'>Complete</button>
          <button type="button" class="btn btn-default" ng-click="c.close_pickup();">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="pickup-info" class="modal fade" data-keyborad="false" data-backdrop="static">
  <div class="modal-dialog modal-lg" style="width:1400px;">
    <div class="modal-content" style="min-height:400px; overflow-y:hidden; overflow-x: hidden;">
      <div class="modal-header">
        <h4  class="modal-title"><b>Pick up Information</b></h4>
      </div>      
      <div class="modal-body" style="padding-bottom:0px;">
        <div style="box-shadow: 0 10px 10px rgba(0, 0, 0, 0.2);">
          <sp-widget widget="c.data.widget_pickup">
            <i class="fa fa-cog fa-spin fa-10x fa-fw"></i>
            Loading...
          </sp-widget>
        </div>
        <div class="form-section mb-3" style="text-align:center; padding-top: 15px;border-top: 1px solid #e5e5e5;display:block;">
          <button type="button" class="btn btn-primary" style="width:100px;" ng-click="c.close_pickup_info();">OK</button>
        </div>
      </div>
    </div>
  </div>
</div>
]]></template>
    </sp_widget>
</record_update>
